<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>UDP检验和 - Tomial's Blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:image" content><meta property="og:title" content="UDP检验和"><meta property="og:description" content="UDP检验和 UDP 检验和提供了差错检测的功能，可以让接收方检测所接收到的UDP报文段是否存在错误。但要注意，UDP虽然提供了差错检验的功能，但对"><meta property="og:type" content="article"><meta property="og:url" content="https://tomial.github.io/posts/udp%E6%A3%80%E9%AA%8C%E5%92%8C/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-12T16:10:43+00:00"><meta property="article:modified_time" content="2019-11-12T16:10:43+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="UDP检验和"><meta name=twitter:description content="UDP检验和 UDP 检验和提供了差错检测的功能，可以让接收方检测所接收到的UDP报文段是否存在错误。但要注意，UDP虽然提供了差错检验的功能，但对"><script src=https://tomial.github.io/js/feather.min.js></script><link href=https://tomial.github.io/css/fonts.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://tomial.github.io/css/main.css></head><body><div class=content><header><div class=main><a href=https://tomial.github.io/>Tomial's Blog</a></div><nav><a href=/>主页</a>
<a href=/posts>全部文章</a>
<a href=/tags>标签</a>
<a href=/about>关于</a></nav></header><main><article><div class=title><h1 class=title>UDP检验和</h1><div class=meta style=margin-bottom:3em>最后编辑于 2019-11-12</div></div><section class=body><h2 id=udp检验和>UDP检验和</h2><p>UDP 检验和提供了差错检测的功能，可以让接收方检测所接收到的UDP报文段是否存在错误。但要注意，<strong>UDP虽然提供了差错检验的功能，但对差错恢复无能为力。</strong></p><blockquote><p>Checksum is the 16-bit one&rsquo;s complement of the one&rsquo;s complement sum of a pseudo header of information from the IP header, the UDP header, and the data, padded with zero octets at the end (if necessary) to make a
multiple of two octets.</p></blockquote><p>UDP报文段的结构：</p><pre><code>                  0      7 8     15 16    23 24    31
                 +--------+--------+--------+--------+
                 |          source address           |
                 +--------+--------+--------+--------+
                 |        destination address        |
                 +--------+--------+--------+--------+来自IP首部的
                 |  zero  |protocol|   UDP length    |伪首部字段
                 +--------+--------+--------+--------+----------
                 +--------+--------+--------+--------+
                 |     Source      |   Destination   |
                 |      Port       |      Port       |
                 +--------+--------+--------+--------+
                 |                 |                 |
                 |     Length      |    Checksum     |UDP首部字段
                 +--------+--------+--------+--------+----------
                 |      
                 |          data octets ...
                 +---------------- ...报文
</code></pre><p>从RFC768文档的定义中可以看到，检验和即<strong>checksum</strong>，是</p><ol><li>包含来自IP首部字段信息的伪首部字段</li><li>UDP首部字段</li><li>数据</li></ol><p>这些字段每16比特的反码之和所求得的反码，检验和长度为16比特</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/web>Web</a></li></ul></nav></div></article></main><footer><hr><a class=soc href=https://github.com/tomial title=Github><i data-feather=github></i></a>|⚡️
2021 © Tomial | Modified <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></footer><script>feather.replace()</script></div></body></html>